
<!DOCTYPE html>
<html>
  <head>
    <title>Grilla Conurbano Sur Extendida</title>
    <meta charset="UTF-8" />
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVi9XWRLMqpVu3RhSzgksO0YmFxZrtBNE"></script>
    <script>
      function initMap() {
        const map = new google.maps.Map(document.getElementById("map"), {
          zoom: 9,
          center: { lat: -34.85, lng: -58.25 },
        });

        const deltaLat = 0.009; // ~1000m
        const deltaLng = 0.011; // ~1000m

        const latStart = -34.60;  // norte (Avellaneda)
        const latEnd = -35.10;    // sur (La Plata y más allá)
        const lngStart = -58.60;  // oeste
        const lngEnd = -57.80;    // este

        let fila = 0;
        for (let lat = latStart; lat >= latEnd; lat -= deltaLat, fila++) {
          let columna = 0;
          for (let lng = lngStart; lng <= lngEnd; lng += deltaLng, columna++) {
            const zona = [
              { lat: lat, lng: lng },
              { lat: lat, lng: lng + deltaLng },
              { lat: lat - deltaLat, lng: lng + deltaLng },
              { lat: lat - deltaLat, lng: lng },
            ];

            const polygon = new google.maps.Polygon({
              paths: zona,
              strokeColor: "#000000",
              strokeOpacity: 0.5,
              strokeWeight: 1,
              fillColor: "#FFD700",
              fillOpacity: 0.2,
              map: map,
            });

            const centro = {
              lat: lat - deltaLat / 2,
              lng: lng + deltaLng / 2
            };

            const label = new google.maps.InfoWindow({
              content: `F${fila}_C${columna}`,
              position: centro,
            });

            google.maps.event.addListener(polygon, 'click', function () {
              label.open(map);
            });
          }
        }
      }
    </script>
  </head>
  <body onload="initMap()">
    <div id="map" style="height: 100vh; width: 100%;"></div>
  </body>
</html>
